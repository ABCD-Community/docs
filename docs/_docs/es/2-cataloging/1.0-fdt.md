---
title: Definición de bases de datos (FDT)
permalink: /docs/es/2-cataloging/fdt
lang: es
key: docs-fdt-es
---

# Tabla de definición de campos
La Tabla de Definición de Campos y los Formatos de Ingreso definen la estructura de los registros de la base de datos. Constan de los siguientes elementos:

##### Tipo de campo

Especifica el tipo de componente de la FDT que se está describiendo, según las siguientes posibilidades:

```
    Campo
    Sub-campo
    Grupo (Campo repetible con sub-campos)
    Leader del registro (formato MARC)
    Campo fijo (formato MARC)
    Fecha de creación del registro (formato MARC)
    Encabezado
    Lí­nea

```

Los campos que se listan a continuación existían en la versión 1.1 y a partir de la versión 1.2 fueron cambiados para tipo **F**; el tipo que existía se colocó en la columna **tipo de entrada** la cual describe la forma de ingreso del campo en la hoja de entrada. ABCD realizará los cambios en forma automática al procesar la FDT y los formatos de ingreso y el cambio se almacenará en forma permanente cuando se actualize la FDT y las hojas de ingreso.

- **Fecha ISO** (no se usa más, utilizar F y seleccionar el tipo fecha en el tipo de entrada)
- **Subir documento y establecer enlace** (no se usa más, utilizar F y seleccionar el tipo de entrada)
- **Fecha de creación del registro** (no se usa más, utilizar F y seleccionar en el tipo de entrada)
- *Operador que crea el registro Fecha, hora y operador que modifica el registro'* (no se usa más, utilizar F y seleccionar en el tipo de entrada)
- **Identificador único del registro (número de control)** (no se usa más, utilizar **F** y seleccionar en el tipo de entrada)

Loa **Tipos de Campo** son los siguientes:

#### **Campo (F)**

Indica que la entrada corresponde a un campo de la bases de datos

#### **Sub-campo (S)**

Esta entrada corresponde a la descripción de los sub-campos del campo.

Se debe describir cada uno de los subcampos que identifican el campo, con los atributos que le corresponden.

Con esta información dependiendo de la forma de ingreso (Texto/Area de texto o Tabla) se activa un editor de subcampos facilitando así el ingreso de los delimitadores que deben preceder a cada subcampo en las estructuras de datos CDS/Isis.

Adicionalmente, se permite el uso de sub-campos repetibles y lo subcampos pueden movilizarse dentro del formulario de ingreso para que el órden como se almacenan facilite luego la aplicación del lenguaje de formateo de campos.

#### **Grupo (T)**

Este tipo de entrada se recomienda para facilitar la edición de los campos repetibles con subcampos. Permite editar los subcampos en forma de tabla o presentar un plantilla para ingresar cada sub-campo separadamente. A continuación de una entrada del tipo **Grupo** deben definirse los subcampos que conforman el campo

#### **Leader del registro - formato MARC (LDR)**

Este campo contiene la información del Lider del formato Marc, según la siguiente especificación:

```
          3005 Estado del registro
          3006 Tipo de registro
          3007 Nivel bibliográfico
          3017 Nivel de codificación
          3018 Descripción de la forma de catalogación

```

El valor del campo 3006 asigna el tipo de campo fijo asociado al registro.

La estructura del leader se almacena en un archivo denominado **leader.fdt**, contenido en la carpeta **def** de la base de datos.

#### **Campo Fijo - formato Marc (M)**

Este tipo de campo le indica al generador de hojas de ingreso que debe insertar un campo fijo, cuya estructura dependerá del tipo de registro seleccionado en el **Leader**.

La estructura de los campos fijos se construye como una Tabla de Definición de campos (FDT), a la cual se accede a partir de la opción **Tipos de Registro (Marc)** en el menú correspondiente a **Actualizar Definiciones de Bases de Datos**. La opción Tipos de Registro (Marc) se presenta en el menú de actualización cuando se detecta la inclusión del Líder (tipo de campo LDR en la FDT} de la base de datos.

#### **Fecha (MARC) (M5)**

Generada en forma automática por el sistema con el formato: YYYYMMDDHHMM.S (año, mes,dia,hora,minutos . segundos).

```
  Ejm: 201010061536.48

```

#### **Encabezado (H)**

Use esta entrada para colocar separadores de grupos de campos en los formatos de entrada y salida y para facilitar la navegación al interior del formulario de ingreso

#### **Línea (L)**

Incluye una línea de separación en el formato de entrada. Puede incluso contener un URL para hacer referencia una página que requiera ser accedida al momento de presentación de los datos

#### **Etiqueta**

Valor numerico con el que se identifica el campo en el registro (tag). Su valor va desde 1 hasta 999, a excepción del tipo de campo **Leader** que acepta etiquetas de hasta 4 dígitos de longitug

#### **Título**

Tí­tulo o descripción del campo tal como aparecerá en los formatos de entrada o salida.

#### **I = Entrada principal**

Marque esta entrada si el campo es la entrada principal del registro. Se desplegará en la lista asociada al botón para un rápida localización de los registros

Ver: [Índice de la entrada principal](/wiki/docs/es/2-cataloging/control-terms#índice-de-la-entrada-principal)

#### **R = Repetible**

Marque esta entrada si el campo es repetible

#### **Subcampos**

Coloque en esta entrada y en minúscula las letras que identifican los subcampos que conforman el campo. Puede omitir el primer subcampo, pero debe colocar el caracter - (guión) para indicar esta situación.

#### **Pre-literales**

Caracteres de edicion a usar como pre-lilterales en los subcampos en la FST y en los formatos de salida. Si el primer subcampo del campo no posee delimitador, debe colocar en esta posición el caracter - (guión).

Si este valor está presente, ABCD en el procedimiento de entrada de datos sustituirá los delimitadores de subcampos con los preliterales, al presentar el campo en el formulario de entrada. Cuando se almacena el registro los pre-literales serán sustituídos de nuevos por los delimitadores de subcampo. De esta forma se facilita el ingreso para el caso de campos con pocos subcampos, por ejemplo, el nombre de un especialista podría ingresarse como **Apellido, Nombre** y ser almacenado como **Apellido^nNombre** o **^aApellido^nNombre**, dependiendo de la información suministrada en los parámetros Subcampos y Pre-literales

#### **Entrada de datos**

Este valor se usa para generar la hoja de ingreso y colocar el comando HTML adecuado para la captura del campo. Se aceptan las siguientes posibilildades:

#### **Fecha (D)**

Activa una rutina en javascript para seleccionar la fecha desde un calendario

#### **Seleccionar varias Opciones (C)**

```
<input type="checkbox">
```

Si se desea, se puede indicar en cuántas columnas se van a presentar las opciones, colocando el valor correspondiente bajo **columnas**. El campo debe estar definido como tipo *repetible*

#### **Seleccionar una Opción (O)**

```
<input type="radio">
```

Si se desea, se puede indicar en cuántas columnas se van a presentar las opciones, colocando el valor correspondiente bajo columnas

#### **Selección simple (S)**

Select (simple)



Usela cuando se requiera seleccionar una sola opción de la disponibles.

#### **Selección múltiple (M)**

Select (múltiple)


Use esta opción cuando se pueda seleccionar más de un valor de los disponibles. En este caso, el campo debe estar definido como *Repetible*

#### **Html Área (A)**

Inserta un editor HTML para permitir escribir un texto editado con las opciones que ofrece el lenguaje de marcación HTML

#### **HTML Externo (E)**

Inserta un editor HTML, pero la información no se almacena en la base de datos sino en un archivo externo el cual se vincula al registro ***(por implementar)***

#### **Texto/Área de texto (T)**

```
text/textarea
```

Presenta un textbox o un textarea dependiendo de la información que se inserte bajo las columnas filas/columnas de la FDT:

- Si se inserta solo un valor bajo columnas se define un textbox cuya área de ingreso toma el número de caracteres expresado bajo columnas.
- Si se insertan valores bajo filas y columnas se inserta un textarea donde filas y columnas equivalen a los parámetros rows y cols del tag html Textarea
- Si se insertan valores bajo filas y columnas pero el valor columnas se expresa en la forma xxx/yyyy, se insertará un textarea donde xxx = ancho de la caja de texto yyy = número total de caracteres que puede recibir el campo. Este número total se controla a través de una función JavaScript y se despliega bajo la caja de texto el número de caracteres disponibles en el campo.

#### **Texto de longitud fija (XF)**

Presenta un Textbox donde se limita el número de caracteres que se pueden insertar en el campo. El número de caracteres que se pueden insertar debe aparecer bajo columnas

#### **Tabla (TB)**

Facilita la edición de los campos repetibles, presentandolos en forma de tabla. Adicionalmente, se puede limitar el número de occurrencias a ingresar, colocando el valor correspondiente bajo filas. Cuando se selecciona este tipo de entrada, cada fila de la tabla representa una ocurrencia del campo y se provee un enlace al final de la última fila para poder agregar filas adicionales.

Si se trata de un campo repetible con subcampos, cada fila de la tabla representa una ocurrencia y los subcampos representan las columnas de la tabla.

Si se tiene un campo repetible sin subcampos y se quiere limitar el número de ocurrencias del campo, coloque bajo la columna **Filas** de la FDT la expresion xx/yy, donde **xx** representa el número total de filas de la tabla y **yy** la cantidad de filas a colocar en la casilla de entrada del campo. Si este valor es 1, se presenta un **textbox**; otro valor, presenta un **textarea** con tantas filas como indique el valor **yy**

#### **Password (P)**

Rellena la casilla de ingreso con * para esconder el contenido del campo. Adicionalmente presenta en la hoja de entrada un campo para confirmación del password y activa una rutina en javascript para determinar si el password y la confirmación son iguales.

Si se activó la opción de encriptación del password (parámetro MD5 de config.php), el password se encripta de usando el algoritmo MD5. En este caso, si se edita un registro hay que suministar de nuevo el password ya que se guarda el valor encriptado.

#### **Subir documento y establecer enlace (U)**

Permite subir un documento al servidor y vincularlo al registro correspondiente. Por defecto, ABCD acepta puede definir una carpeta denominada bases en la raiz del ABCD, con una subcarpeta con el nombre de la base de datos donde se colocarán las imágenes. También se puede crear una carpeta en cualquier lugar del servidor tal como lo especifica la seccion Vincular Documentos Digitales, . (Véase además Consideraciones para almacenar Documentos Digitales)

#### **Fecha, hora y operador que modifica el registro (OD)**

En este campo se colocará en subcampos, la fecha, hora y login del operador que crea el registro. El primer subcampo almacenará la fecha y la hora y el segundo subcampo el operador. Se puede utilizar la columna "columnas" de la FDT para establecer el número de actualizaciones que se desean registrar. Alcanzado el número establecido se eliminará la primera ocurrencia a fin de agregar la nueva ocurrencia

#### **Fecha de creación del registro (DC)**

En este campo se colocará la fecha de creación del registro

#### **Operador que crea el registro (OC)**

En este campo se coloca la identificación del operador que crea el registro

#### **Identificador único del registro o Número de control del objeto (AI)**

Corresponde a un valor numérico secuencial que ABCD asignará al registro en forma automática al momento de creación (ver Asignación del número de control)

#### **Combo box (COMBO/COMBORO)**

- **COMBO** se utiliza cuando el campo de ingreso puede ser rellenado por operador desde el teclado si no se muestra el término correspondiente en la lista de selección asociada al campo
- **COMBORO** se utiliza para forzar el ingreso del campo solo a través de la lista de selección presentada; el campo de ingreso es de sólo lectura (read-only)

Este tipo de entrada presenta un menú desplegable de opciones precedido de una caja de texto que ayuda a localizar los términos en la lista de opciones. Puede usarse en el caso de que el número de opciones a presentar al usuario sea tan variada que se dificulte la localización de una en particular en el menú desplegable (ejemplo, más de 20 opciones y menos de 300).

Las opciones se cargan en el menú bien sea desde un archivo txt o desde el índice de una base de datos utilizando los criterios establecidos bajo las columnas **Lista de selección** que se describen más adelante.

Si las opciones se cargan desde una base de datos, se utilizan las columnas

```
  Tipo de lista:  Base de datos
  Nombre:         Nombre de la base de datos a utilizar para extraer los términos válidos
  Prefijo:        Prefijo de la FST bajo el cual se encuentran agrupados los términos a presentar
  Extraer como:   Nombre de la PFT o formato de extracción a aplicar sobre los registros para extraer los términos

```

Si las opciones se cargan desde un archivo txt se utilizan las columnas

```
  Tipo de lista:  Tabla
  Nombre:         Nombre del archivo txt a utilizar para presentar los términos válidos

```

La presentación de esta tipo de entrada en el formulario de ingreso variará depediendo de si el campo definido en la FDT es o no repetible:

```
  (1) Lista de términos cargados desde una tabla o desde una base de datos
  (2) Casilla de texto que permite localizar un término en la lista de términos
  (3) En el caso de que el campo no sea repetible, casilla de texto donde se colocará el término seleccionado desde la lista
  (4) En el caso de que el campo sea repetible, área de texto donde se colocarán los términos que se seleccionen
      desde la lista
  (5) Se puede utilizar para eliminar términos del área de entrada

```

En el caso de que el tipo de entrada sea read-only (COMBORO) 3 y 4 estarán protegidos de forma tal que el operador no pueda agregar términos nuevos, es decir, está forzado a seleccionar términos desde la lista de selección.

Los campos que se utilizen en este tipo de presentación no pueden tener subcampos ni puede usarse para ingresar información en un subcampo de un campo.

```
Nota importante
 Tenga mucho cuidado cuando la lista de selección se llene desde una base de datos ya que el procedimiento para presentar la hoja
 de entrada intentará leer desde el índicetodos los términos cuyo prefijo coincida con el prefijo utilizado para definir esta
 entrada. Entonces, si hay demasiados términos, el formulario de ingreso se "congelará" hasta tanto no se hayan recuperado del índice
 todos los términos indizados con ese prefijo. Por esta razón no se recomienda utilizar este tipo de entrada cuando existan más de
 200 términos para el campo.

```

#### **Filas**

- Si el tipo de entrada es T (Grupo), especifica el máximo número de filas (ocurrencias) permitidas para el campo. Si no especifica este valor y el campo está vacío, se presenta una fila y al final de la misma se incluye un vínculo para agregar más filas; si el campo no está vacío se presentarán las ocurrencias existentes a razón de una por fila y al final de las mismas se incluye un vínculo para agregar más filas.
- Si el tipo de entrada es X (Text area) o A (Html area), especifica el máximo número de lí­neas a presentar en el Área de texto. Si el tipo de entrada es T,se presenta un TextBox. Si el tipo de entrada es T, pero e número de filas es mayor de 1 se presenta un textarea. Si el tipo de entrada es A (Html area), define el tamaño de la ventana donde se abrirá el editor e HTML.
- Si el tipo de entrada es M (Select multiple), especifica con cuantas opciones se abre la lista

#### **Columnas**

- Si el valor de **Ingresar como** es **X** (Textbox/Text area) o A (Html area), especifica el máximo número de columnas (caracteres) a presentar en las líneas del área de texto. Si se desea controlar el número de caracteres a ingresar en un control HTML del tipo TEXTAREA, coloque el valor de las columnas en la forma XX/YY donde,

XX = Número de columnas del TEXTAREAYY = Total de caracteres que puede aceptar el campo (ver **Text/Textarea**)

- Si el valor de **Ingresar como** es **T** (campos repetibles con subcampos), el número de columnas lo determina la cantidad de subcampos definidos
- Si el valor de **Ingresar como** es **O** (radio button) o **C** (checkbox) especifica el número de opciones a colocar en cada línea

#### **Lista de selección**

Bajo estas columnas se indica los mecanismos a adoptar para el control de la terminología del campo, según las siguientes posibilidades

#### **Listas de Opciones (tablas asociadas a campos)**

Las opciones se guardan en archivos de texto. Se requiere suministrar la siguiente información:

- Tipo: Tabla
- Nombre: Nombre de la tabla con la lista de opciones

Ver: [Control de terminologia: Tablas asociadas a campos](/wiki/docs/es/2-cataloging/control-terms)

#### **Listas de autoridades**

La terminología para ingreso del campo proviene de la misma base de datos o de una base de datos externa. Se requiere suministrar la siguiente información:

- Tipo: DB
- Nombre: Nombre de la base de datos que recoje la terminología del campo. Si esta columna se deja en blanco se asume que la terminología proviene de la misma base de datos que se encuentra activa
- Prefijo: Prefijo de la lista invertida con el cual se encuentra indizado el campo a utilizar como control de terminología
- Listar como: Formato a utilizar para la presentación del campo en la lista de selección
- Extraer como: Formato a utilizar para extraer el campo de la base de datos de control de terminología y pasarlo al registro en proceso de edición

En ambos casos la columna **browse** presenta un asistente para la selección/edición de las tablas de terminologia. Igualmente, el procedimiento de entrada de datos presenta un botón para poder editar estas tablas.

ver: [Control de terminología: Listas de autoridades](/wiki/docs/es/2-cataloging/control-terms#control-de-terminología-listas-de-autoridades)

#### **Valor por defecto**

Especifique aquí el contenido con el cual se debe rellenar el campo cuando se ingresan nuevos registros. Debe especificar los subcampos, si el campo tiene subcampos.

#### **Ayuda**

Marque esta casilla si se provee ayuda en línea para el campo. Estas ayudas se almacenan en la carpeta de la base de datos bajo la subcarpeta **ayudas** y se editan a través de la opción **Archivos de ayuda para los camps de la base de datos** del menú **Actualizar definición de base de datos**

#### **Url de ayuda**

Si la ayuda está en otro servidor o sitio web, coloque en esta columna el url a utilizar para localizar y presentar la ayuda del campo

#### **Vincular con la FDT**

Este campo se aplica en los(FDT). De esta forma los cambios realizados en la FDT se reflejaran también en la hoja de entrada. No aplica con la creación o eliminación de campos en la FDT.

---

# Tabla de extracción de campos (FST)

La tabla de extracción de campos es el archivo utilizado en las estructuras CDS/Isis para actualización y mantenimiento de las índices de búsqueda (listas invertidas) así como en los procesos relacionados
con el intercambio de información o la generación de claves para ordenar alfabéticamente los reportes de salida. Al construir la tabla de extracción de campos el diseńador de la base de datos ha de tener en
mente los tipos de búsqueda que quiere habilitar para los usuarios de la información e intentar que las consultas recuperen información, siempre que sea posible. CDS/Isis proporciona un gran número de facilidades para garantizar el éxito de los procesos de recuperación de información, como son:

- 8 técnicas de indización diferentes, de tal forma que un mismo campo puede ser almacenado en los índices de diferentes manera
- La extracción de claves se formula a través del lenguaje de formatos, lo que permite analizar y realizar transformaciones sobre los datos antes de enviarlos a los índices
- Transparencia en el uso de mayúsculas, minúsculas o caracteres acentuados en los términos de búsqueda
- Identificación de las claves de búsqueda, lo cual facilita determinar el orígen (mfn, campo, ocurrencia y posición relativa dentro del campo) de cada uno de los términos contenidos en el diccionario

La tabla de extracción de campos es un archivo del tipo **TXT** el cual consta de tres columnas donde se identifican los siguientes elementos:Ar**ID Identificación de la clave**

Identifica la etiqueta (tag) del campo que se utilizará para identificar el término.

**TI Técnica de indización**

Especifica la técnica de indización a aplicar sobre las líneas obtenidas luego de la aplicación del **formato de extracción** sobre cada registro de la base de datos

**Formato de extracción**

Indica el formato de extracción a aplicar sobre el registro para obtener la clave

**ID Identificación de la clave**

Las claves del archivo de índices (listas invertidas) de las estructuras CDS/Isis constan de cinco elementos:
    
  
    Término de búsqueda (clave) 
    ID
    Mfn  
    Número de Ocurrencia  
    Número de Secuencia


El valor suministrado en la columna 1 de la FST genera el componente **ID** del archivo invertido, el cual le asigna una identificación a cada una de las claves generadas por el formato de extracción . Esta identificación es muy importante para ABCD cuando se usan listas de autoridades y generalmente deberá coincidir con el tag del campo.

## Estructura de los archivos invertidos

Ver: [Archivos de índices](Archivos_de_índices "wikilink")

## Técnicas de indización

Hasta el momento existen 9 técnicas de indización:

|      |                                                              |
| ---- | ------------------------------------------------------------ |
| 0    | Pasa a la lista invertida cada **línea** generada por el formato de extracción |
| 1    | Pasa a la lista invertida cada **sub-campo** generado por el formato de extracción |
| 2    | Pasa a la lista invertida los elementos encerrados entre **\<...\>** |
| 3    | Pasa a la lista invertida los elementos encerrados entre **/.../** |
| 4    | Pasa a la lista invertida cada **palabra** generada por el formato de extracción |
| 5    | Igual a la técnica **1**, agregando un **prefijo** a cada clave generada |
| 6    | Igual a la técnica **2**, agregando un **prefijo** a cada clave generada |
| 7    | Igual a la técnica **3**, agregando un **prefijo** a cada clave generada |
| 8    | Igual a la técnica **4**, agregando un **prefijo** a cada clave generada |

Las técnicas 2 y 3 tienen efectos similares en la generación de la clave; la diferencia proviene del tipo de delimitador utilizado para identificar los términos a extraer: si se usa el delimitador **\<...\>** para identificar los términos claves, posteriormente, al emitir reportes impresos o salidas por pantalla, el mismo puede eliminarse o sustituirse
por signos de puntuación aplicando el comando de modo **MHx** o **MDx**. El delimitador **/.../** no puede sustituirse por lo que siempre estará presente en la salidas impresas o por pantalla.

Cuando se aplica una fst sobre un registro para obtener una clave, el órden de la operación es el siguiente:

1.  Se utiliza el formato de extracción capturar los datos del registro
2.  A la información obtenida se le aplica la técnica de indización correspondiente
3.  A cada clave individual que resulte de este proceso se le asigna el **Id** especificado y se almacena en la lista invertida incluyendo el MFN del registro, el número de ocurrencia de la cual se extrajo la clave, y si la indización es por palabra (técnica 4 u 8), la posición relativa de la palabra respecto a la línea generadas por el formato de extracción.

Ejemplo: Supongamos que de el siguiente registro (en formato MARC):

    <35>  $9(DLC)   90049743l</35>
    <10>  ^a   90049743</10>
    <20>  ^a0387974490 (alk. paper)</20>
    <40>  ^aDLC^cDLC^dDLC</40>
    <41>0 ^aeng^bfregerhebjapsparus</41>
    <50>00^aGC89^b.E54 1991</50>
    <82>00^a551.4/58$220</82>
    <100>1 ^aEmery, K. O.^q(Kenneth Orris),^d1914-</100>
    <245>10^aSea levels and tide gauges /^cK.O Emery, David G. Aubrey.</245>
    <260>  ^aNew York :^bSpringer-Verlag,^cc1991.</260>
    <300>  ^axiv, 237 p. :^bill., maps :^c29 cm.</300>
    <500>  ^aIn English, with summaries in French,          German, Hebrew, Japanese, Spanish, and Russian.</500
    <504>  ^aIncludes bibliographical references (p. 207-226) and indexes.</504>
    <650> 0^aSea level.</650>
    <650> 0^aSubsidences (Earth movements)</650>
    <650> 0^aTide-gages.</650>
    <650> 0^aDatabase management^xCongresses.</650>
    <650> 0^aArtificial intelligence^xCongresses.</650>
    <700>1 ^aAubrey, David G.</700>
    <5>20000113 35151</5>
    <935>LA<935>

queremos obtener las siguientes claves:

|                       |                                                              |
| --------------------- | ------------------------------------------------------------ |
| Título (245)          | para ser recuperado por cada una de las palabras             |
| Autores (100 y 700)   | para ser recuperados en forma completa (apellido + nombre) e independientemente por apellido o nombre |
| Materias (650)        | que puedan recuperarse por frase completa o por cualquiera de laa palabras que las forman |
| Idiomas (41)          | todos los idiomas (nota: en el subcampo b del campo 41 los idiomas se incluyen en una cadena donde cada 3 caracteres representan el código de un idioma diferente |
| Editorial (260)       | tal como aparece en el documento                             |
| Fecha de edición(260) | tal como aparece en el documento                             |
| Clasificacion LC (50) | de forma tal que permita hacer una búsqueda general por el primer nivel de la clasificación y también por la clasificación completa |
| nowrap                | Fecha de ingreso a la base de datos (5)                      |

La Fst que necesitamos definir para estos efectos es la siguiente

<table>
<tbody>
<tr class="odd">
<td><p>Título (245)</p></td>
<td><p>245 4 v245^a</p></td>
</tr>
<tr class="even">
<td><p>Autores (100 y 700)</p></td>
<td><p>100 0 v100^a/<br />
700 0 v700^a/<br />
100 4 v100^a/<br />
700 4 v700^a/</p></td>
</tr>
<tr class="odd">
<td><p>Materias (650)</p></td>
<td><p>650 1 (v650*2/)<br />
650 4 MHL(v650*2/)</p></td>
</tr>
<tr class="even">
<td><p>Idiomas (41)</p></td>
<td><p>41 0 v41^a/v41^b.3/ v41^b*3.3/ v41^b*6.3/ v41^b*9.3/ v41^b*12.3/ v41^b*15.3/ v41^b*18.3</p></td>
</tr>
<tr class="odd">
<td><p>Editorial (260)</p></td>
<td><p>260 0 v260^b</p></td>
</tr>
<tr class="even">
<td><p>Fecha de edición(260)</p></td>
<td><p>260 0 v260^c</p></td>
</tr>
<tr class="odd">
<td><p>Clasificacion LC (50)</p></td>
<td><p>50 0 v260^a/v260^a,v260^b</p></td>
</tr>
<tr class="even">
<td><p>nowrap|Fecha de ingreso a la base de datos (5)</p></td>
<td><p>5 0 v5.4/v5.6/v5</p></td>
</tr>
</tbody>
</table>


**Explicación**:

Cuando elaboramos una FST es necesario tener claro el concepto de cómo se almacenan los términos en la lista invertida (ver [Estructura de los archivos invertidos](Estructura_de_los_archivos_invertidos "wikilink"))

![alt text for screen readers](/wiki/docs/{{page.lang}}/images/ifp_estructura.jpg "Text to show on mouseover").

La lista invertida es un conjunto de 6 archivos, 5 de los cuales son índices hacia el diccionario de términos, el cual (con la extensión .ifp) alberga todas las claves extraídas de la base de datos a través de la aplicación de la tabla de extracción de campos (fst) sobre cada uno de los registros. El diccionario de términos es una lista alfabética de todos los puntos de acceso que hemos extraído de la base de datos (con el auxilio de la .fst) y cada clave tiene asociada una lista de apuntadores que definen el lugar de donde se extrajo el término. Esta lista de apuntadores se denomina "postings" y cada "posting" tiene 4 componentes:

```
**Mfn** del registro del cual se extrajo la clave 
**Id** del campo, tal como fué indicado en la primera columna de la FST 
**Número   de   la ocurrencia** del campo desde el cual se extrajo la clave  
**Posición   relativa   de   la palabra** dentro del campo desde el cual se extrajo la clave               (cuando el campo se indizó por técnica 4)
```

Por ejemplo, si el término **Educacion** aparece en los registros 1 y 20 en el campo de materias (v76) y también se encuentra en el registro 35 en el campo de título (v16): Métodos de educación a distancia, al aplicar la siguiente Fst sobre el registro:

    76 0 (v76/)
    16 4 v16

el diccionario de términos referirá el término **Educación** de la
siguiente manera:

    EDUCACION
    1   76  1  1    
    20  76  1  1     
    35  16  1  3

Se han generado tres "postings" para el término educación. El primero, 1 76 1 1</font> indica que la palabra clave proviene del MFN 1, primera ocurrencia del campo 76 y está localizada al inicio del campo. El segundo apuntador <font color=blue>20 76 1 1</font> especifica que también se encuentra en el Mfn 20, campo 76, primera ocurrencia y
primera palabra y por último, <font color=green>35 16 1 3</font> indica que el registro 35 contiene el término educación, extraído del campo 16, primera ocurrencia y además es la tercera palabra del campo.

La técnica de indización **0** siempre coloca el valor **1** como posición relativa de la clave dentro del campo. El resto de las técnicas de indización enumeran la posición de la clave dentro del campo. La posición relativa de un término dentro del campo que lo contiene es lo que permite definir las búsquedas por proximidad (operadores . y $ del lenguaje de búsquedas del CDS/Isis). La distancia entre dos términos se determina obteniendo la diferencia entre sus
posiciones relativas.El valor del número de ocurrencia se utiliza al aplicar el operador **(F)** para el cual, la expresión de búsqueda es verdadera cuando todos los términos que se combinan proceden de la misma ocurrencia del campo repetible. También se utiliza en la generación de las **Listas de autoridades** que asisten el ingreso de los registros
(ver: [Control de terminología: Listas de autoridades](Control_de_terminología:_Listas_de_autoridades "wikilink")).

Analicemos ahora la FST que mencionamos al inicio de esta página:

**245 4 v245^a**  

Extrae el subcampo **a** del campo 245 y al resultado le aplica la técnica de indización 4. Cada palabra obtenida se envía a la lista invertida con el identificador 245

**100 0 v100^a/  
700 0 (v700^a/)**  

Extrae el subcampo **a** del campo 100 y el subcampo a del campo 700. Analiza el resultado obtenido tratando de identificar líneas (técnica 0) y cada línea obtenida se envía a la lista invertida con el identificador
100 o 700 según el caso. Note que el formato de extracción v100^a, v700^a no produciría los resultados requeridos por las siguientes

razones:

- La técnica de indización 0 busca líneas en el campo generado por el
    formato de extracción. Como no estamos generando cortes de línea (/)
    por ocurrencia, el formato de extracción producirá una sola cadena
    con todos los autores en forma contígua y de esa cadena se tomarán
    los primeros 60 caracteres los cuales se almacenarán en la lista
    invertida
- El campo 700 es repetible; por lo tanto, si no se edita como un
    grupo repetible el formato extraerá todas las ocurrencias del campo
    creando una sola frase, y entonces cada autor no sería enviado como
    clave independiente a la lista invertida

**100 4 v100^a/  
700 4 (v700^a/)**  

Extrae el subcampo a de los campos 100 y 700 del registro. Cada ocurrencia se coloca en una nueva línea. De la lista generada extrae cada una de las palabras (técnica 4) y las envía a la lista invertida con el identificador 100 o 700 según corresponda. Cada palabra arrastra el número de ocurrencia que ocupa el autor en el campo así como la
posición relativa de la misma al interior de cada ocurrencia.

Si estamos indizando por palabras, por qué es necesario incluir saltos de línea para separar los campos y las ocurrencias?. Por la siguiente razón: si no se incluye una separación entre v100^a y v700^a, la última
palabra de v100^a aparecería pegada a la primera palabra de la primera ocurrencia de v700^a, produciendo una entrada errónea en el índice. Del mismo modo, si no se separan las ocurrencias de v700 con un salto de línea, la primera palabra de la siguiente ocurrencia aparecería pegada con la última palabra de la ocurrencia anterior.

**650 1 (v650\*2/)**  
En este ejemplo estamos extrayendo cada subcampo del campo 650 y generando para cada uno, una entrada en la lista invertida con la identificación 650. Por qué v650\*2?. El registro presentado en el ejemplo está catalogado según el formato Marc y se están incluyendo los dos indicadores antes del subcampo a:

    00^aDatabase management^xCongresses. 
    00^aArtificial intelligence^xCongresses.

Si el formato de la fst lo expresamos como **650 1 (v650/)** se intentará identificar todos los subcampos de cada una de las ocurrencias del campo 650; por lo tanto, la porción correspondiente a los indicadores será tomada como un subcampo y tendremos una serie de claves generadas solo con los indicadores del campo 650. Al expresar el formato de extracción en la forma (v650\*2/) estamos indicando un desplazamiento de 2 posiciones respecto al inicio del campo y los
indicadores no serán tomados en cuenta.

Cuando se aplica la técnica de indización 1 es necesario verificar que el formato de extracción contenga subcampos; esto es, si colocamos como formato de extracción de claves **650 1 mhu,(v650\*2/)** estaremos generando claves erradas ya que, por definición, el Modo **MHU** sustituye los subcampos por signos de puntuación causando que los
subcampos desaparezcan al aplicar el formato sobre el registro y en este caso la clave se generará haciendo una sola frase con todos los subcampos y el índice contendría entonces solo los 60 primeros caracteres de la frase obtenida (por ejemplo: ARTIFICIAL INTELLIGENCE. C0NGR), con la consiguiente pérdida de puntos de acceso hacia el
registro.

**650 4 MHU(v650\*2/)**  
Igual razonamiento que en el caso anterior, pero se extraen las palabras de las líneas obtenidas

**41 0 v41^a/v41^b.3/ v41^b\*3.3/ v41^b\*6.3/ v41^b\*9.3/ v41^b\*12.3/ v41^b\*15.3/ v41^b\*18.3**  

Como el subcampo b del campo 41 tiene un patrón de ingreso que especifica que cada idioma ocupa 3 posiciones, utilizando las opciones de desplazamiento y la longitud podemos enviar cada idioma a la lista invertida

**50 0 v50^a/v50^a,v50^b**   
En este ejemplo estamos generando dos claves para cada clasificación LC. La primera v50^a nos permitirá realizar búsquedas por grupos temáticos.
La segunda clave generada nos permitirá ubicar un número de clasificación en particular. Fijese de nuevo la presencia del caracter de salto de línea (/), el cual obliga a generar dos claves independientes

**v5.4/v5.6/v5**  
Con la fecha de ingreso del documento estamos generando tres claves: la primera **v5.4** nos permitirá ubicar rápidamente todos los materiales ingresados en un ańo; la segunda **v5.6** recuperará los ingresos de un
mes; y la tercera **v5** los ingresos correspondientes a un día. 

> Note
> que generar estas tres claves (por ańo, ańo-mes y ańo-mes-dia) hace más
> eficiente la recuperación de información que generando una sola clave a
> nivel de ańo,mes y día y aplicar el operador de truncación a la derecha
> para hacer búsquedas por ańo y por ańo y mes

## Uso de prefijos en el proceso de generación de claves

Como el diccionario de términos es un único archivo con todas las claves ordenadas alfabéticamente, en el mismo se presentan mezclados los autores con los títulos, con las palabras claves y, en general, con
todos los campos que hayan sido indizados en la FST .

Si queremos tener separadas las claves según el campo desde el cual fueron generadas tenemos dos soluciones:

1.  Utilizar prefijos al momento de generar las claves de indización con el objeto de crear subdiccionarios al interior del diccionario de términos
2.  Crear diccionarios por separado de acuerdo al contenido de cada uno de los campos.

De acuerdo con la primera opción, si la fst


| Título (245) | 245 4 v245^a |
| Autores (100 y 700) | 100 0 v100^a/,(v700^a/)<br>100 4 v100^a/(v700^a/) |
| Materias (650) | 650 1 (v650\*2/)  <br> 650 4 (v650\*2/) |
| Idiomas (41) | 41  0 v41^a/v41^b.3/ v41^b\*3.3/ v41^b\*6.3/ v41^b\*9.3/ v41^b\*12.3/ v41^b\*15.3/ v41^b\*18.3 |
| Editorial (260) | 260 0 v260^b |
| Fecha de edición(260) | 260 0 v260^c |
| Clasificacion LC (50) | 50   0 v260^a/v260^a,v260^b |
| Fecha de ingreso a la base de datos (5) | 5     0 v5.4/v5.6/v5 |


la cambiamos por

<table class=wikitable>


<tr>

<td width="30%">

**Título (245)**

</td>

<td width="70%">

245 8 '/T:/',v245^a

</td>

</tr>

<tr>

<td>

**Autores (100 y 700)**

</td>

<td>

100 0 "A:"v100^a/,(|A:|v700^a/)  
100 8 '/A:/',v100^a/(|A:|v700^a/)

</td>

</tr>

<tr>

<td>

**Materias (650)**

</td>

<td>

650 5 '/M:/',(v650\*2/)  
650 4 '/M:/',(v650\*2/)

</td>

</tr>

<tr>

<td>

**Idiomas (41)**

</td>

<td>

<table border="0">


<tr>

<td width="33" valign="top">

41  8

</td>

<td>

'/I:/',v41^a," "v41^b.3," "v41^b\*3.3, " "v41^b\*6.3, " "v41^b\*9.3, "
"v41^b\*12.3, " "v41^b\*15.3, " "v41^b\*18.3

</td>

</tr>

</table>

</td>

</tr>

<tr>

<td>

**Editorial (260)**

</td>

<td>

260 0 "E:"v260^b

</td>

</tr>

<tr>

<td>

**Fecha de edición(260)**

</td>

<td>

260 0 "F:"v260^c

</td>

</tr>

<tr>

<td>

**Clasificacion LC (50)**

</td>

<td>

50   0 "C:"v260^a/"C:"v260^a,v260^b

</td>

</tr>

<tr>

<td>

**Fecha de ingreso a la base de datos (5)**

</td>

<td>

5     0 "F:"v5.4/"F:"v5.6/"F:"v5

</td>

</tr>

</table>

Como puede observarse hemos hecho los siguientes cambios:

<table class=wikitable>


<tr>

<td align="center">

Técnica

</td>

<td>

Cambiada a

</td>

</tr>

<tr>

<td align="center">

1

</td>

<td align="center">

5

</td>

</tr>

<tr>

<td align="center">

4

</td>

<td align="center">

8

</td>

</tr>

</table>

A las claves que se estan indizando con técnica 0, basta agregarles un pre-literal con el prefijo que queremos utilizar para diferenciar los datos. Para el resto de las técnicas de indización (5, 6, 7 y 8) el
prefijo se debe indicar antes del formato de extracción con siguiente sintaxis:

1.  el prefijo se encierra entre apóstrofes (literal no condicional)
2.  el literal correspondiente al prefijo se encierra entre dos caracteres especiales que no estén incluídos en el prefijo.  

ejemplo:

    '/A:/'  
    '\#A:\#'

Además de permitirnos ver el contenido de un campo en forma ordenada, sin mezclar los términos obtenidos de otros campos, la búsqueda a través de un prefijo es más rápida que la búsqueda cualificada; esto es:

Buscar **M:Educación** es más eficiente que **Educación/(650)** por cuanto la búsqueda cualificada
requiere revisar cada uno de los apuntadores (postings) del término.

Sin embargo, dependiendo de la experiencia de nuestros usuarios finales y de la capacidad del equipo donde tenemos instalada nuestra base de datos, tal vez convenga indizar los datos de varias maneras diferentes,
con prefijo y sin prefijo, a fin de proporcionar a nuestros usuarios mayor flexibilidad en las búsquedas. Más claves de búsqueda significa mayor espacio en disco y no necesariamente menor velocidad de
recuperación, dada la estructura de la lista invertida (árbol B\*) la cual se reorganiza constantemente para que la altura del árbol sea siempre la misma en todas sus ramas (la altura del árbol refleja el
número de accesos requeridos para ubicar un término en la lista invertida).

Los productos de la familia CDS/Isis permiten definir más de un diccionario de términos para una base de datos. Esto es, podemos crear un diccionario para autores, otro para títulos, etc. Sin embargo, para
que los términos de diferentes campos puedan combinarse entre sí, en una misma expresión de búsqueda, a través de los operadores booleanos siempre será necesario definir un diccionario general que los agrupe a
todos ya que no es posible cruzar los términos de un diccionario con los términos de otro diccionario. La facilidad de diccionarios particulares sustituye el uso de prefijos para presentar al usuario los términos
extraídos de un campo en particular y permite operar lógicamente los términos de un mismo diccionario.

 

## Transparencia en el uso de mayúsculas, minúsculas y caracteres especiales

Una de las bondades del mecanismo de búsqueda del CDS/Isis radica en la transparencia que brinda en el uso de mayúsculas, minúsculas o caracteres especiales en los términos de búsqueda.Para lograr este
objetivo, todas las claves se almacenan en la lista invertida en mayúsculas, y si así lo hemos previsto, los caracteres acentuados se transforman a su equivalente en mayúscula. Las expresiones de búsqueda que suministra el usuario son transformadas igualmente a mayúsculas lo que minimiza el error por errores de digitación del usuario.

La conversión de las claves y expresiones de búsqueda, se hace mediante el archivo **ISISUC.TAB** el cual debe estar en concordancia con el juego de caracteres adoptado para la base de datos (ver Tabla de conversión de mayúsculas a minúsculas).

Cuando indizamos los campos con la técnica 4 u 8 (por palabras) CDS/Isis utiliza la tabla **ISISAC.TAB** para establecer la composición del concepto "palabra"; esto es, la tabla ISISAC.TAB le indica a CDS/Isis qué caracteres debe considerar como alfabéticos para formar las palabras. Cualquier caracter no insertado en ISISAC.TAB será considerado un separador y dará por terminada la palabra.

Supongamos que en ISISUC.TAB hacemos equivalente la letra **ñ** a su expresión en mayúscula **Ñ**. Si en ISISAC.TAB no incluímos el código correspondiente a la **Ñ** (209 en Ansi)


    las palabras:            aparecerán en el índice como                    
    niño                              NI O               
    cañería                           CA ERIA               
    cañaveral                         CA AVERAL               
    acuñación                         ACU  ACION
 

esto es, cada palabra se divide en dos, generando dos entradas en el diccionario, ya que al no estar la **Ñ** incluída en ISISAC.TAB se considera un separador igual que un signo de puntuación.

Ver:

#### [Juego de caracteres ANSI](/wiki/docs/es/99-cdsisis/ansi-table)

**Tabla de caracteres alfabéticos (ISISAC.TAB)**

    048 049 050 051 052 053 054 055 056 057 065 066 067 068 069 070 071 072 073 074 075 076 077 078 079 080 081 082 083 084 085 086 087 088 089 090 097 098 099 100 101 102 103 104 105 106 107 108 109 110
    111 112 113 114 115 116 117 118 119 120 121 122 192 193 194 195 196 197 199 200 201 202 203 204 205 206 207 209 210 211 212 213 214 216 217 218 219 220 221 224 225 226 227 228 229 231 232 233 234 235 236 237 238 239 241 242 243 244 245 246 248 249 250 251 252 253 255

Cada linea debe tener 32 caracteres ansi. En esta tabla se han incluído los números como caracteres alfabéticos a fin de que las referencias numéricas puedan ser indizadas por técnica 4. Corresponde a los valores 048 049 050 051 052 053 054 055 056 057, correspondiente a los dígitos 0 1 2 3 5 6 7 8 9. También se ha incluído la Ñ (209) como caracter
alfabético

**Tabla de conversión de minúsculas a mayúsculas (ISISUC.TAB)**

    000 001 002 003 004 005 006 007 008 009 010 011 012 013 014 015 016 017 018 019 020 021 022 023 024 025 026 027 028 028 030 031 032 033 034 035 036 037 038 039 040 041 042 043 044 045 046 047 048 049 050 051 052 053 054 055 056 057 058 059 060 061 062 063 064 065 066 067 068 069 070 071 072 073 074 075 076 077 078 079 080 081 082 083 084 085 086 087 088 089 090 091 092 093 094 095 096 065 066 067 068 069 070 071 072 073 074 075 076 077 078 079 080 081 082 083 084 085 086 087 088 089 090 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 065 065 065 065 065 065 065 199 069 069 069 069 073 073 073 073 208 209 079 079 079 079 079 215 216 085 085 085 085 089 222 223 065 065 065 065 065 065 065 199 069 069 069 069 073 073 073 073 079 209 079 079 079 079 079 247 248 085 085 085 085 089 254 089

En esta tabla están representados los 256 caracteres ANSI y tiene que estar formada por 32 caracteres ansi por línea, para un total de 8 líneas.

Cada posición de 3 dígitos corresponde el valor original del caracter ANSI y ella se debe colocar el valor que se desee asignar al caracter en la conversión a mayúsculas cuando se genera la lista invertida o se usan los comandos del lenguaje de formatos mpu, mhu, mdu

Por ejemplo en el caso de la ñ y Ñ la tabla se interpreta de la siguiente manera:

ñ tiene como código ANSI el valor 241; por lo tanto si se desea obtener Ñ en los procesos de conversión a mayúscula, se debe colocar en a posición 241 de la tabla el valor 209 que corresponde al código ANSI del caracter Ñ.

Del mismo modo, si se desea que la Ñ mayúscula (código ANSI 209) mantenga su representación, en la posición 209 de la tabla se debe colocar el valor 209 que el código ANSI de la Ñ mayúscula

Por el contrario, si se desea que los caracteres ñ y Ñ sean convertidos ambos a la letra N debe alterar las posiciones 209 y 241 de la tabla y colocarles el valor 078.

La tabla isisuc.tab que se distribuye en ABCD los caracteres ñ y Ñ se transforman a Ñ. Si desea su conversión a N, busque en la tabla isisuc.tab y donde lea 209 coloque 078.

---

# Formato de entrada

Los formatos de entrada tienen la misma estructura de la [Tabla de definición de campos](/wiki/docs/es/2-cataloging/control-terms) y determinan los campos que van a presentarse en el proceso de ingreso/edición de un registro. Generalmente están asociadas a [Tipos de registro](/wiki/docs/es/2-cataloging/fdt#tipos-de-registro).

Esta división en tipos de registro es muy usada cuando hablamos de los formatos **Marc** y **Cepal** ya que la información a ser suministrada varía dependiendo del tipo de registro seleccionado por el usuario.

La estructura de un formato de entrada es la misma de la FDT. Adicionalmente, si a nivel de un campo se marca la columna **Vincular con la FDT**, los cambios que se realizen en la FDT serán automáticamente absorbidos por la hoja de entrada.

Cuando se define en una hoja de entrada un campo con subcampos y alguno de los subcampos no requieren ser editados, los mismos tienen que agregarse en la hoja de entrada como **invisibles** o **solo lectura** ya que de otra forma, al momento de actualizar el registro, se eliminará el contenido de los subcampos omitidos en el formulario de ingreso.

# Tipos de registro

Si la información que se rellena en una base de datos no es la misma en todos los casos y depende de las características del material que se está ingresando, entonces podemos decir que la base de datos posee **Tipos de Registro**. Un ejemplo de este tipo de estructura se observa en la base de datos bibliográfica definida con el formato CEPAL en la cual la FDT posee todos los campos que se pueden registrar y luego los mismos están agrupados en diferentes hojas de ingreso que reflejan sólo aquellos que corresponden a un tipo de material.

Para definir una base de datos con diferentes tipos de registro siga las siguientes instrucciones a partir del menú **Definición de bases de datos**



## Crear las hojas de entrada

- Defina la FDT general de la base de datos con todos los campos existentes
- Defina en la FDT uno o dos campos donde se registrará el tipo de registro de cada material (ejemplo 4 y 6 en la base de datos CEPAL incluída en la demostración
- Establezca los códigos de registro

```
  Ejemplo:
  Tipo de registro                   campo 4      campo 6
  Monografía                            M             m
  Analítica de monografía               M             a
  Publicación seriada                   S             s
  Analítica de seriada                  S             a
  Tesis                                 T             M
  Colección                             C             C
  Monografía de colección               M             c
```

- Defina las **Hojas de trabajo** seleccionando los campos que corresponden a cada tipo de registro. Dele un nombre a cada hoja de trabajo y almacénela.

```
  Nota: Si marca la opción Vincular todos los campos con la FDT los cambios que se realizen sobre
        la FDT serán reflejados en la hoja de entrada, excepto cuando se trate de adiciones o eliminaciones 
```

Repita este proceso tantas veces como tipos de registro haya definido.

## Vincular las hojas de trabajo a los tipos de registro

Una vez que haya definido las hojas de trabajo debe proceder a vincularlas a los tipos de registro. Para ello seleccione la opción **Tipos de registro** del menú de definición de bases de datos y rellene la siguiente información:

| Etiqueta 1 | Etiqueta del campo de la FDT donde se identifica el tipo de registro |
| ---------- | ------------------------------------------------------------ |
| Etiqueta 2 | Etiqueta de otro campo de la FDT que sirve como complemento para identificar el tipo de registro (opcional) |

A continuación se procede a solicitar la información que vincula el campo el tipo de registro con las hojas de entrada definidas. La información requerida es:

| Hoja de entrada de datos (FMT)   | Presenta un menu desplegable con las hojas de entrada definidas en el proceso anterior |
| -------------------------------- | ------------------------------------------------------------ |
| Valor del campo **Etiqueta 1**   | Corresponde la valor que se almacenará en el campo definido como **Etiqueta 1** para definir el tipo de registro |
| Valor del campo **Etiqueta 1**   | Corresponde la valor que se almacenará en el campo definido como **Etiqueta 2** para complementar la definicion del tipo de registro (opcional) |
| Descripción del tipo de registro | Información que se mostrará en el procedimiento de creación de registros cuando se solicite la creación de un nuevo registro |

Esta estructura se almacena en la carpeta **def/[lenguaje-activo]** de la base de datos bajo el nombre **tipom.tab**

## Aplicación de los tipos de registro en el proceso de creación/edición

#### Creación de registros

Cuando se solicita la creación de un registro, se presenta la lista de tipos de registros tal y como fue definida en el paso anterior. El operador debe seleccionar el tipo de corresponde para que ABCD pueda determinar la hoja de entrada asociada con el mismo. Se presenta la hoja de entrada y el operador puede proceder a ingresar la información.

#### Edición de registros

Cuando se activa una base de datos, ABCD almacena la estructura correspondiente a los tipos de registros definidos. Al solicitar la edición de los registros, ABCD analiza el contenido de los campos definidos en **Etiqueta 1** y **Etiqueta 2** para determinar la hoja de entrada a utilizar para la edición del registro. Sin embargo, si en el menú desplegable que se identifica como **Hojas de entrada** existe un formato de ingreso previamente seleccionado, ABCD utilizará ese formato para realizar la edición del registro.

---


# Formatos de presentación de los registros

[Manual del lenguaje de formatos del CISIS](https://abcd-community.org/download/linguagem-de-formato-cisis-4-es/)

[Formatos de salida que integran la información de bases de datos relacionadas](/wiki/docs/es/2-cataloging/pft-ref)

[Agregar un javascript a la presentación de los registros en el módulo de catalogación](/wiki/docs/es/2-cataloging/pft-js)

[Utilizar un javascript para presentar un campo con subcampos repetibles](/wiki/docs/es/2-cataloging/pft-js#utilizar-un-javascript-para-presentar-un-campo-con-subcampos-repetibles)


[Hacer búsquedas cruzadas por autores, materias, etc, dentro del módulo de catalogación de ABCD](http://abcdwiki.net/Hacer_búsquedas_cruzadas_por_autores,_materias,_etc,_dentro_del_módulo_de_catalogación_de_ABCD)

[Hacer búsquedas cruzadas por autores, materias, etc que abran una nueva ventana mostrando los resultados en el iAH](http://abcdwiki.net/Hacer_búsquedas_cruzadas_por_autores,_materias,_etc_que_abran_una_nueva_ventana_mostrando_los_resultados_en_el_iAH)

[Utilizar un javascript para resaltar los términos de búsqueda en la ventana de catalogación](http://abcdwiki.net/Utilizar_un_javascript_para_resaltar_los_términos_de_búsqueda_en_la_ventana_de_catalogación)

[Presentar en una ventana un registro relacionado con la base de datos activa](http://abcdwiki.net/Presentar_en_una_ventana_un_registro_relacionado_con_la_base_de_datos_activa)

[Colocar un vínculo para envío de correo](http://abcdwiki.net/Colocar_un_vínculo_para_envío_de_correo)



# Asociar documentos digitales a los registros


### URL para presentar documentos digitales

Los documentos digitales asociados a registros deben estar alojados en el servidor bajo una estructura que garantice tanto su acceso y presentación en los procesos de recuperación de información, como su portabilidad.

Desde el punto de vista de la recuperación de información, el acceso a los documentos digitales se realiza a través de una URL, la cual debe contener la identificación del servidor donde se encuentran alojados los documentos más la ruta a la carpeta del servidor donde se encuentran guardados. En este URL podemos distinguir tres componentes:

![alt text for screen readers](/wiki/docs/{{page.lang}}/images/Ddr_1.png "Text to show on mouseover").

La  **ruta relativa**  corresponde a la ubicación del recurso en el servidor. Esta ruta puede cambiar dependiendo de la instalación realizada en cada servidor.

La  **ruta absoluta**  corresponde a la instalación del recurso dentro de ABCD, de tal manera que los recursos asignados puedan ser localizados independientemente de la forma como esté instalado el sistema en el servidor, lo cual hace al sistema portable.

El  **nombre del archivo**  identifica plenamente al recurso digital. Se recomienda utilizarlo en minúsculas, sin espacios, acentos o caracteres especiales a fin de asegurar su transportabilidad entre diferentes sistemas operativos.

El almacenamiento de los documentos digitales puede realizarse:

1.  En una carpeta colocada en la raíz del servidor: directorio htdocs (linux - apache) o wwwroot (windows - IIS)
2.  En una carpeta colocada fuera de la raíz del servidor

El acceso via http a los documentos digitales variará, de acuerdo al lugar elegido para el almacenamiento de los mismos:

  

#### Almacenamiento de los documentos digitales en la raíz del servidor

Al estar en la raíz del servidor, los documentos digitales pueden ser referidos directamente a través del protocolo http, suministrando la dirección donde se encuentran localizados. En este caso, se debe crear una carpeta (ejm. bases) en la raíz del servidor (/abcd/www/htdocs en la instalación estándard de ABCD), y a partir de esa carpeta crear una estructura de sub-carpetas de forma de alojar organizadamente todos los documentos digitales de las bases de datos:

![alt text for screen readers](/wiki/docs/{{page.lang}}/images/Almacenar_dd_01.png "Text to show on mouseover").

En el archivo de configuracion del Apache (/ABCD/apache2.2/conf/httpd.conf), en la instalación típica de ABCD, se establece que la raíz del servidor se encuentra bajo la ruta /ABCD/www/htdocs, por lo tanto, al escribir: http://localhost:9090 apuntamos directamente a esa carpeta.

Si para colocar nuestros documentos digitales abrimos una carpeta, por ejemplo bases en la raíz del servidor , podemos direccionar los archivos digitales ahí contenidos, en la forma: http://localhost:9090/bases/imagen.png.

Para darle una mejor organización al almacenamiento de los objetos digitales, podemos subdividir la carpeta bases, creando una subcarpeta para cada base de datos (por ejemplo: biblo), y al interior de esta última podemos crear subcarpetas por tipo de recurso, o cualquier otra clasificación que nos ayude a organizar nuestros documentos.

Al estructurar el almacenamiento de los documentos digitales hay que tomar en cuenta que mientras más archivos existan en una carpeta, mayor será el tiempo necesario para recuperar un archivo en particular para presentarlo en la página. Por ello, si nuestra base de datos va a tener asociados muchos documentos digitales conviene estructurar las subcarpetas, por ejemplo, por el último dígito del MFN, para asegurarnos una distribución racional y equitativa de todos los archivos digitales

  

#### Almacenamiento de los documentos digitales fuera de la raíz del servidor

Es altamente recomendable colocar la carpeta de las bases de datos y sus recursos asociados en una carpeta fuera de la raíz del servidor.

![File:Almacenar dd 02.png](/wiki/docs/{{page.lang}}/images/Almacenar_dd_02.png "File:Almacenar dd 02.png")

En este caso hemos colocado todas las bases de datos y otros recursos necesarios a ABCD, en la carpeta  **e:/bases_abcd**  (la instalación típica de ABCD contempla la carpeta  **/abcd/www/bases'**  para estos efectos).

Como bases_abcd no se encuentra en la raíz del servidor, los archivos y recursos en su interior no pueden ser localizados directamente con el protocolo http.

Para acceder a los archivos digitales en el caso en que estén alojados fuera de la raíz del servidor, ABCD provee un script denominado  **show_image.php**, el cual recibe como entrada el nombre de la base de datos y el nombre del archivo a desplegar y con esta información lee el archivo digital y envía su contenido a la página.

Para que este procedimiento funcione correctamente, la carpeta que aloja las bases de datos, tendrá una subcarpeta para cada una de ellas y dentro de estas subcarpetas existirá una carpeta para el alojamiento de los documentos digitales (Ejm: /bases_abcd/biblo/images). Sin embargo, para una mayor flexibilidad y compatibilidad con sistemas ya configurados, la carpeta con los objetos digitales puede estar localizada en cualquier parte. Por ello debe existir en la carpeta de la base de datos (/bases_abcd/biblo) un archivo denominado  **dr_path.def**  donde se le indicará a ABCD la ruta real donde se encuentran almacenados los documentos digitales de la base de datos, en la forma:

         ROOT=e:/bases_abcd/biblo/dr/

  

### Cómo asociar documentos digitales a un registro

El proceso requiere:

1.  Almacenar el documento en el servidor
2.  Almacenar en el registro el nombre y la ruta absoluta del documento

Se puede asociar a un registro cualquier tipo de documento digital que pueda ser manejado luego por el browser: páginas html, imágenes, sonidos, videos, flash, .pdf, .doc, etc.

Se requiere definir una carpeta para almacenar los documentos digitales la cual puede estar localizada:

1.  En la carpeta bases (externa a la raíz del servidor) En la carpeta htdocs (bajo la raíz del servidor)
2.  En cualquier otra carpeta que determine el usuario

Para lograr esta versatilidad, es necesario crear en la carpeta donde está alojada la base de datos (ejm: /abcd/www/bases/biblo), un archivo denominado  **dr_path.def**  donde se coloca la ruta que apunta hacia la carpeta bajo la cual se van a almacenar los documentos de la base de datos activa, de acuerdo al siguiente formato:

     ROOT=ruta_a_la_carpeta_de_documentos_digitales/ 
     Ejm:  ROOT=/bases/biblo/dr/ 
           ROOT=/abcd/www/htdocs/bases/biblo/

En el primer caso los documentos digitales se almacenan fuera de la raiz del servidor en la carpeta de las bases de datos (bases). En el segundo caso los documentos digitales se almacenan en una carpeta localizada en la raiz del servidor (bases/).

Si el archivo  **dr_path.def**  no está presente en la carpeta de la base de datos, se asume que el directorio raíz de las imágenes es:

     Raíz del servidor/bases/Nombre de la base de datos/ 
     Ejm: /ABCD/www/htdocs/bases/biblo/

  

#### Creación del formulario de ingreso para vincular documentos digitales

ABCD permite definir en la FDT un tipo de campo especial –  **subir archivo – (upload)**  que facilita el proceso de subir los archivos al servidor o de seleccionar del servidor archivos ya existentes, para asociarlos a registros. Opcionalmente a este campo se le puede agregar un sub-campo para almacenar la descripción del objeto subido de forma tal que en el formato de salida se haga el enlace utilizando esa descripción y no el nombre del archivo

Cuando en una hoja de entrada se define este tipo de campo, ABCD inserta dos enlaces con los cuales puede:

![File:Copy to folder.gif](/wiki/docs/{{page.lang}}/images/Copy_to_folder.gif "File:Copy to folder.gif") Subir archivos al servidor
![File:Add.gif](/wiki/docs/{{page.lang}}/images/Add.gif "File:Add.gif")  Seleccionar archivos del servidor

  

#### Subir archivos al servidor

Se presenta la siguiente hoja de entrada:  ![File:Almacenar dd 03.png](/wiki/docs/{{page.lang}}/images/Almacenar_dd_03.png "File:Almacenar dd 03.png")

Use el vínculo  **Explorar**  para localizar, en el servidor, la carpeta donde será almacenado el archivo. La exploración se inicia a partir de la carpeta indicada bajo el parámetro  **ROOT**  del archivo  **dr_path.def**. La ruta de la carpeta seleccionada se colocará en el recuadro  **Guardar en**.

Nótese que no se copia la ruta de la carpeta completa, sino unicamente la porción que continúa a la ruta especificada en el archivo de configuración dr_path.def (ruta absoluta). La ruta completa se provee en el formato de despliegue cuando se construye el URL del documento. Esto con el fin de asegurar la portabilidad de las carpetas, ya que al ser transferidas a otro servidor, si se mantiene la estructura de sub-carpetas, solo será necesario modificar el archivo dr_path.def y el formato de despliegue.

Haga a continuación clic sobre el botón  **Browse**  para localizar en el disco local el documento que desea subir al servidor. Luego de localizado, puede llenar la casilla descripción y si ha definido un subcampo en la FDT se insertará el nombre del archivo como primer subcampo y la descripción como segundo subcampo. haga clic sobre  **Subir archivo**  para almacenar el archivo seleccionado en el servidor, bajo la ruta especificada.

**Nota importante**:

El tamaño máximo de un archivo que se puede subir por este método esta especificado en el parámetro upload_max_filesize del archivo de configuración del PHP (php.ini). Una vez subido el archivo, ABCD transfiere directamente a la hoja de entrada sus datos de localización a fin de que quede vinculado con el registro.

Los tipos de archivo que se pueden subir están fijados por el parámetro  **$ext_allowed**  de  **config.php**.

  

#### Explorar la carpeta con los documentos digitales

**Seleccionar la carpeta**

![File:Explorar 1.png](/wiki/docs/{{page.lang}}/images/Explorar_1.png "File:Explorar 1.png")

-   Use el vínculo Crear nueva carpeta para abrir una carpeta nueva en la subcarpeta donde está colocado. Se le presentará una ventana para solicitarle el nombre de la carpeta, la cual será creada bajo el directorio desde el cual se solicitó la creación.
-   El nombre de la nueva carpeta no debe tener caracteres acentuados o espacios. Se recomienda crearla en minúsculas
-   Haga clic sobre  ![File:Radiobutton 1.png](/wiki/docs/{{page.lang}}/images/Radiobutton_1.png "File:Radiobutton 1.png")  para seleccionar una carpeta y pasar su ruta al formulario correspondiente
-   Haga clic sobre el nombre de la carpeta para abrirla y visualizar su contenido

  
**Seleccionar los documentos**

![File:Explorar.png](/wiki/docs/{{page.lang}}/images/Explorar.png "File:Explorar.png")

*Haga clic sobre el nombre de la carpeta para abrirla y visualizar su contenido

-   Haga clic sobre el nombre del archivo para visualizarlo en una nueva ventana
-   Haga clic sobre una casilla para seleccionar un archivo y enviarlo a la hoja de entrada correspondiente

  

#### Vincular a los registros archivos ya localizados en el servidor

En algunas oportunidades, los documentos a vincular son enviados al servidor mediante procedimientos de copia, FTP, etc Si este fuera el caso, entonces se necesita explorar la carpeta donde los mismos están almacenados para proceder a su vinculación con los registros. Siga las instrucciones detalladas en el procedimiento de exploración haciendo clic sobre para seleccionar y vincular los documentos.

Al igual que en el caso anterior, no se copia la ruta completa hacia el archivo , sino la porción que continúa a la ruta especificada en el archivo de configuración  **dr_path.def**. La ruta completa se provee en el formato de despliegue cuando se construye el URL del documento. Una vez seleccionado el archivo, ABCD transfiere directamente a la hoja de entrada sus datos de localización a fin de vincularlo con el registro

  

#### Presentación de los documentos vinculados, utilizando los formatos de salida

El URL a suministrar para presentar los documentos vinculados depende del lugar donde se hayan almacenado los mismos.

  

#### Presentación de documentos vinculados alojados en la raíz del servidor

Si el directorio de almacenamiento está ubicado en la raiz del servidor, el URL se construye con los siguiente elementos:*url del servidor

-   Nombre de la carpeta donde están almacenadas las imágenes, tomada a partir de la raíz del servidor

-   Etiqueta del campo donde está almacenada la referencia al documento

         Ejm: "http://localhost:9090/bases/biblo/"v800

Es decir, se puede acceder directamente a la imagen, suministrando su URL.

  

#### Presentación de documentos vinculados alojados fuera de la raíz del servidor

Si el directorio de almacenamiento está ubicado fuera de la raiz del servidor, la imagen no puede ser leída a través de un URL por cuanto el servidor WEB (Apache, IIS, etc.) impide el acceso a archivos y carpetas localizadas fuera de la raíz del servidor

Para estos efectos, ABCD dispone de un script denominado  **show_image.php**, localizado en  **htdocs/central/common**, el cual lee la imagen como si fuera un archivo local y se encarga de transferirla a la página correspondiente.

show_image.php requiere dos parámetros:

      base     donde se envía el nombre de la base de datos a la cual está
               vinculada el documento
     image     donde se envía el nombre del documento que se desea localizar 
               (tomado del campo de la base de datos donde se encuentra almacenado)

La información de la ruta absoluta al documento la complementa ABCD al momento de despliegue leyendo el archivo  **dr_path.def**. Por lo tanto, para desplegar un documento que no está localizado en la raíz del servidor se construye el siguiente URL:

        http://localhost:9090/central/common/show_image.php?base=XXX&image=YYY

Donde:

        XXX = nombre de la base de datos activa
        YYY = contenido del campo donde está almacenado el nombre del documento
        
       Ejm: "http://localhost:9090/central/common/show_image.php?base=biblo&image="v800

  

#### Ejemplo de la sintaxis a aplicar en un formato para presentar documentos digitales

![File:Documentos digitales 1.png](/wiki/docs/{{page.lang}}/images/Documentos_digitales_1.png "File:Documentos digitales 1.png")

![File:Documentos digitales 2.png](/wiki/docs/{{page.lang}}/images/Documentos_digitales_2.png "File:Documentos digitales 2.png")

  

**Para presentar las imágenes cuando no están en la raíz del servidor**:

   (if p(v800) then  
      '<a href=http://localhost:9090/central/common/show_image.php?base=biblo&image='v800^*

      ' target=top>'/ 
      if p(v800^d) then v800^d else v800^* fi 

      '</a><br>' 
    fi/)/ 

  
Note que en este ejemplo se ha definido con dos subcampos el campo que almacena la imagen. En el primer subcampo se coloca el nombre del archivo y en el segundo subcampo se coloca la descripción del mismo, de forma tal que en formato de despliegue se muestra este último subcampo.

#### Sugerencias para configuración del apache

(Cortesía de Egbert de Smet)

Lo que se puede hacer opcionalmente es crear un 'alias' en la configuración del Apache, p.e.

    Alias /docs/ "/ABCD/www/bases/"
    <Directory "/ABCD/www/bases/">
        Options Indexes FollowSymLinks MultiViews
        AllowOverride None
        Require all granted
    

y referenciar a las imágenes en el PFT como

lo que significa realmente : /ABCD/www/bases/experts/,v20 (ver el ejemplo de la b.d. 'experts' en ABCD2.0b).

  

#### Algunas consideraciones importantes acerca del almacenamiento de documentos digitales

1.  Planifique la estructura de carpetas y subcarpetas que va a utilizar para organizar el almacenamiento de los documentos digitales. Recuerde que una vez incluída la ruta absoluta en el registro de la base de datos, tendrá que re-editar los mismos para cambiar dichas rutas.
2.  Determine si va a tener muchos documentos digitales almacenados. Si este es el caso, no conviene colocar todos los archivos en una misma carpeta. Tal vez pueda considerar una estructura para intentar distribuir equitativamete los documentos entre las carpetas. Mientras mayor sea el número de archivos colocados en una carpeta, también mayor será el tiempo necesario para localizarlos, y, en consecuencia, desplegados.
3.  En lo posible, cree la carpeta de los documentos digitales fuera de la raíz del servidor. #Evalúe la posibilidad de utilizar un repositorio, tal como se explica en la presentación  [Repositorios Institucionales y su interoperabilidad con ABCD](https://www.mediawiki.org/w/index.php?title=Repositorios_Institucionales_y_su_interoperabilidad_con_ABCD&action=edit&redlink=1 "Repositorios Institucionales y su interoperabilidad con ABCD (page does not exist)")

---

# Archivos dbn.par y syspar.par

#### dbn.par

Este archivo, donde dbn corresponde al nombre de una de las bases de datos gestionadas bajo ABCD, contiene el direccionamiento hacia los recursos de la base de datos en referencia. Se localiza bajo el directorio **par** de la carpeta de bases de datos

Por ejemplo, si hemos definido una base de datos con el nombre **biblo** el archivo biblo.par tenrá el siguiente contenido:

```
         biblo.*=%path_database%biblo/data/biblo.*
         prologoact.pft=%path_database%www/prologoact.pft
         epilogoact.pft=%path_database%www/epilogoact.pft
         autoridades.pft=%path_database%biblo/pfts/en/autoridades.pft
```

**biblo.\*** es el parámetro que direcciona a los archivos de la base de datos:

```
         biblo.mst
         biblo.xrf
         biblo.cnt
         biblo.n01
         biblo.n02
         biblo.l01
         biblo.l02
         biblo.ifp
         biblo.fst
```

En esa línea el parámetro %path_database% corresponde al valor del parámetro **$db_path** del config.php, o si trabaja con varias carpetas **bases** el camino de acceso hacia la carpeta **bases** activa.

**prologoact.pft** es el formato que se aplica para formar el encabezado del registro que se muestra en el área de edición. Contiene todos los javascripts y estilos que se utilizarán para opciones adicionales de presentación del registro (ver [Formatos de presentación de los registros](http://abcdwiki.net/Formatos_de_presentación_de_los_registros)). Por defecto este formato se almacena en la sub-carpeta **www** de la carpeta de las bases de datos.

**epilogoact.pft** es el formato que se aplica para formar el pie de página en la ventana de presentación de un registro. Por defecto se almacena en la sub-carpeta **www** de la carpeta de bases de datos y tiene el siguiente contenido:

```
    '<script>
         if (top.frames.length>0){
             if  (top.Capturando=="" && top.ModuloActivo=="catalog"){
                 top.mfn='v1001'
                 top.maxmfn='v1002'
                 top.menu.forma1.ir_a.value="'v1001'/'v1002'"
             }
          }
     </script>
     </form>
     </body>
     </html>'
```

Este formato no debe alterarse ya que el javascript permite la navegación a través de las opciones para avanzar y retroceder entre los registros de la barra de navegación del módulo de catalogación.

**autoridades.pft** se utiliza para indicar la forma como se van a extraer los campos de la base de datos cuando se utilizan los archivos de índices para control de terminología. (Ver [Control de terminología: Listas de autoridades](http://abcdwiki.net/Control_de_terminología:_Listas_de_autoridades))



#### syspar.par

El archivo **syspar.par** es un complemento al **dbn.par** y se utiliza a efectos de la localización de los recursos de otra base de datos cuando son accedidas desde la base de datos activa (ver [Formatos de salida que integran la información de bases de datos relacionadas](http://abcdwiki.net/Formatos_de_salida_que_integran_la_información_de_bases_de_datos_relacionadas)).

La mención a cualquier recurso de otra base de datos o formato de la misma desde la base de datos activa, debe estar referenciada en este archivo.

Ejemplo del syspar.par de una instalación de bases de datos con el uso de copias (copies) y objetos de préstamo (loanobjects)

```
   biblo.*=%path_database%/biblo/data/biblo.*
   marc.*=%path_database%marc/data/marc.*
   users.*=%path_database%users/data/users.*
   copies.*=%path_database%copies/data/copies.*
   loanobjects.*=%path_database%loanobjects/data/loanobjects.*
   suspml.*=%path_database%suspml/data/suspml.*
   trans.*=%path_database%trans/data/trans.*
   prologoact.pft=%path_database%www/prologoact.pft
   epilogoact.pft=%path_database%www/epilogoact.pft
   prologo.pft=%path_database%www/prologo.pft
   epilogo.pft=%path_database%www/epilogo.pft
   isisuc.tab=%path_database%isisuc.tab
   isisac.tab=%path_database%isisac.tab
```

Esta configuración garantiza que desde una base de datos activa puede accederse cualquier otra base de datos utilizando el comando **REF** o del comando **NPOST** del lenguaje de formateo o la expresion

```
         /'$$REF:Base_de_datos, Formato, Expresion de búsqueda'/
```

que provee ABCD para integrar la información de varias bases de datos en un formato de salida

Nótese los parámetros

```
    isisuc.tab=%path_database%isisuc.tab
    isisac.tab=%path_database%isisac.tab
```

utilizados para direccionar la [Tabla de caracteres alfabéticos (isisac.tab)](http://abcdwiki.net/Tabla_de_caracteres_alfabéticos_(ISISAC.TAB)) y la [Tabla de conversión de minúsculas a mayúsculas (isisuc.tab)](http://abcdwiki.net/Tabla_de_conversión_de_minúsculas_a_mayúsculas_(ISISUC.TAB)) utilizadas en el proceso de actualización del [Diccionario de términos](http://abcdwiki.net/Diccionario_de_términos) (Índices)



# Dr path.def

El archivo **dr_path.def** localizado en la raíz del directorio de una base de datos comprende una serie de parámetros a utilizar para activar opciones especiales para la gestión de bases de datos.

Estos parámetros son:

| Nombre del parámetro en el archivo dr_path.def | Significado del Parámetro / Parámetro del config.php que redefine |
| :--------------------------------------------: | :----------------------------------------------------------: |
|                  **UNICODE**                   | Establece si la base de datos están definidas utilizando el juego de caracteresUNICODE (UTF-8) valor 1ANSI (ISO-8859-1) valor 0 u omitidoEs obligatorio si en el abcd.def se estableció el parámetro MULTIPLE_DB_FORMATS |
|               **CISIS_VERSION**                | Define (conjuntamente con el parámetro UNICODE) la versión de Cisis a ser utilizada para gestionar la base de datos. La combinación del parámetro UNICODE conjuntamente con el parámetro CISIS_VERSION nombrará la subcarpeta dentro de la carpeta cgi-bin desde donde se va a invocar el wxis. ver [Carpeta cgi-bin](http://wiki.abcdonline.info/index.php?title=ABCD_-_versiones_bases_de_datos) |
|                  **tesaurus**                  | Nombre del Tesauro asociado con la base de datos (ver [Vincular un Tesauro a una base de datos](http://abcdwiki.net/Tesauros)) |
|           **prefix_search_tesaurus**           | Prefijo que se agrega al término del tesauro para hacer la búsqueda en la base de datos a la cual está asociado |
|             **inventory_numeric**              | Este parámetro determina si al leer el código de barra de un ejemplar en el sistema de préstamos, se desea eliminar los ceros a la izquierda. Si el valor es Y, se borran los ceros a la izquierda; si el valor es N , no se borran los ceros a la izquierda |
|            **max_inventory_length**            | Indica el tamaño máximo y fijo del número de inventario. Las posiciones faltantes se rellenan con cero.`       Ejemplo:        $max_inventory_length=8        hará que el número de inventario ingresado como 567 se almacene como 00000567 `Este parámetro se toma en cuenta en los procesos relacionados con asignación de los números de inventario de la base de datos copies |
|               **max_cn_length**                | Indica el tamaño máximo y fijo del número de control. Las posiciones faltantes se rellenan con cero.`      Ejemplo:       $max_cn_length=8       hará que el número de control generado como 567 se almacene como 00000567 `Este parámetro también es tomado en cuenta para generar los números de control correspondientes al utilizar la opción [*Menú principal* -> *Utilitarios* -> *Asignar número de control*] |
|                  **barcode**                   | Presenta el icono ![alt text for screen readers](/wiki/docs/{{page.lang}}/images/Barcode.png "Text to show on mouseover"). en la barra de herramientas del módulo de catalogación, para activar la impresión de los códigos de barras y demás etiquetas necesarias para la identificación de los elementos de la colección. El operador debe tener asignados los permisos correspondientes. Para configurar la emisión de estos productos vea [Etiquetas](http://abcdwiki.net/Etiquetas) |
|                **barcode1reg**                 | Presenta el icono ![alt text for screen readers](/wiki/docs/{{page.lang}}/images/Barcode.png "Text to show on mouseover"). en la barra de herramientas de la edición del registros, para activar la impresión del código de barras del registro. El operador debe tener asignados los permisos correspondientes. Para configurar la emisión del código de barras vea [Etiquetas](http://abcdwiki.net/Etiquetas) |
|                  **dirtree**                   | Habilita (Y) o desabilita (N) la exploración de la carpeta de la base de datos. Para que muestre la opción en el menú **Utilitarios** se requiere además que:`           a. El usuario sea el administrador del sistema               O           b. El usuario tenga permisos sobre todo el módulo central               O           c. El usuario tenga habilitado el permiso EXBDIR=Y en su perfil               O           d. El usuario tenga habilitado el permiso EXBDIR=Y en su perfil de la base de datos activa ` |
|                **DIRTREE_EXT**                 | Establece las extensiones de los archivos que se permite mostrar cuando se hace la exploración de la carpeta "bases", la carpeta de una base de datos en particular, par, www o wrk. Las extensiones por defecto son:`*.def,*.iso,*.png,*.gif,*.jpg,*.pdf,*.xrf,*.mst,*.n01,*.n02,*.l01,*.l02,*.cnt,*.ifp,*.fmt,*.fdt,*.pft, *.fst,*.tab,*.txt,*.par,*.html,*.zip, `Si agrega una nueva extensión debe seguir el formato que se muestra |
|                   **leader**                   | Etiqueta (tag) del campo bajo el cual se va a almacenar la información del leader en el caso de un registro MARC. Se omite este parametro la información del leader se almacena en los campos 3000- |



#### Cambiar la apariencia y el logo de la interfaz para una carpeta bases a través de los archivos de estilo

```
    CSS_NAME=Nombre_de_la_carpeta_con_los_archivos_de_estilo
    LOGO=../css/Nombre_de_la_carpeta_con_los_archivos_de_estilo/Nombre_del_logo
```

(ver [Cambiar la apariencia (colores y/o iconos) utilizados en la interfaz de una carpeta de bases de datos](http://abcdwiki.net/Cambiar_la_apariencia_(colores_y/o_iconos)_utilizados_en_la_interfaz_de_una_carpeta_de_bases_de_datos))

#### Vinculación de documentos digitales que están fuera de la raiz del servidor

```
     ROOT=ruta_a_la_carpeta_de_documentos_digitales/ 
```

El parámetro **ROOT** indica la ruta completa a partir de la cual se van a almacenar los documentos digitales

```
     ej:
     ROOT=/bases/biblo/documentos/
```

Ver: [Almacenamiento de documentos digitales fuera de la raiz del servidor](http://abcdwiki.net/Asociar_documentos_digitales_a_los_registros#Almacenamiento_de_los_documentos_digitales_fuera_de_la_ra.C3.ADz_del_servidor)

También contiene una serie de parámetros que permiten redefinir a nivel de base de datos los siguientes parámetros ya establecidos en el config.php:

El acceso a los parámetros adicionales por base de datos se realiza a través del script **config_extended.php** colocado en la misma carpeta que el **config.php**.



#### Solicitar clave para leer desde el iAH la versión a texto completo de documentos protegidos

| DB_PATH          | Ruta donde se encuentran la base de datos respectiva         |
| ---------------- | ------------------------------------------------------------ |
| USER_SEARCH      | Prefijo para localizar el código del usuario                 |
| USER_DISPLAY     | Pft para desplegar el nombre del usuario                     |
| DOCUMENT_DISPLAY | Pft para desplegar una pequeña referencia del documento seleccionado |
| DOCUMENT_NAME    | Pft para extraer el nombre del archivo que se va a mostrar   |
| HTTP_ACCESS      | Si los documentos digitales están en la raíz del servidor, indica el URL a utilizar previo al nombre para poder leer el documento |
| FILE_ACCESS      | Si el documento se encuentra fuera de la raíz del servidor, especifica la ruta a agregar antes del nombre del documento para poder leerlo. Si este parámetro se omite se utiliza la dirección especificada bajo el parámetro **ROOT** de este mismo archivo |

Aunque elparámetro **DB_PATH** pudiera aparecer reiterativo ya que en ABCD también se define, es importante recordar que estos 6 últimos parámetros están diseñados para ser accedidos a través del iAH desde el cual no se tiene acceso a la configuración establecida en ABCD.

Para más información sobre cómo desplegar los documentos vinculados a los registros desde los formatos de salida consulte: [Presentación de documentos vinculados utilizando formatos de salida](http://abcdwiki.net/Asociar_documentos_digitales_a_los_registros#Presentaci.C3.B3n_de_los_documentos_vinculados.2C_utilizando_los_formatos_de_salida)


---
# Cambiar la carpeta donde está localizada la base de datos

**ABCD** permite agregar una base de datos fuera de la carpeta **bases**, siempre y cuando sus archivos de definición se encuentren localizados en la carpeta **bases**, o sea, únicamente los archivos de datos (.mst, .xrf, .cnt,.l01, .l02, .n01, .n02, .ifp) pueden tener otra localización. Para ello:

1. Defina la base de datos bajo ABCD
2. Modifique el archivo **dbn.par** y coloque en la línea que apunta hacia la base de datos la ruta absoluta donde están localizados los archivos de datos

```
    en lugar de  biblo.*=%path_database%biblo/data/biblo.*  
    colocar      biblo.*=/xxxx/yyyy/biblo/data/biblo.*        
```

donde xxxx yyyy ... representan la ruta absoluta hacia la base de datos que se desea acceder.

Puede ser que algunas funciones no trabajen correctamente, por ejemplo, las que utilizan el MX en el módulo de utilitarios ya que al generar la línea de comando los scripts direccionan la lectura hacia a carpeta bases. Si es necesario se buscará solución a esta situación.


---
# Ayudas emergentes sobre los campos de la base de datos

Esta opción permite definir ayudas emergentes (tooltips) para los campos de una base de datos.

Para ello:

1. del menú de catalogación selecciones la base de datos
2. Seleccione la opción **Actualizar definición de bases datos**
3. Del menú presentado seleccione **Tooltips de ayuda sobre los campos de la base de datos**.

Se abre entonces una ventana que presenta cada uno de los campos de la FDT y una caja de texto para colocar la ayuda correspondiente. Esta ayuda puede contener etiquetas HTML para mejorar la presentación de la ayuda al usuario.

Al momento de la entrada de datos, si el campo tiene ayuda emergente, se presenta el símbolo ![alt text for screen readers](/wiki/docs/{{page.lang}}/images/Callout.jpg "Text to show on mouseover"). y al pasar el cursor sobre el mismo se despliega la ayuda introducida

Estas ayudas se almacenan en el archivo **help.tab** localizado en la carpeta **def** del lenguaje activo de la base de datos seleccionada


**Enviar a una hoja de trabajo**

Esta opción exporta a una hoja de cálculo las ayudas existentes en el archivo **help.tab**


**Importar desde un archivo ODS**

Esta opción carga directamente las ayudas desde un hoja de cálculo ODS. Esta hoja de cálculo debe tener 2 columnas

Primera columna: Etiqueta del campo al cual se refiere la ayuda

Segunda columna: Texto de la ayuda

```
   Tenga especial cuidado en que el texto de la ayuda esté todo en una sola línea.
   Si desea introducir saltos de línea use la etiqueta <br> del lenguaje HTML
```
